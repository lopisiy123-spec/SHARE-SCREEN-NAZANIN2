<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<title>Ø§Ø´ØªØ±Ø§Ú© ØµÙØ­Ù‡ ğŸ’–</title>

<link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;500;700&display=swap" rel="stylesheet">
<script src="https://unpkg.com/peerjs@1.5.2/dist/peerjs.min.js"></script>

<style>
body{
  margin:0;
  height:100vh;
  font-family:'Vazirmatn',sans-serif;
  background: linear-gradient(135deg,#ffdde1,#c3cfe2,#fbc2eb);
  background-size:400% 400%;
  animation:bg 10s ease infinite;
  display:flex;
  justify-content:center;
  align-items:center;
}

@keyframes bg{
  0%{background-position:0% 50%}
  50%{background-position:100% 50%}
  100%{background-position:0% 50%}
}

.card{
  background:rgba(255,255,255,.92);
  border-radius:30px;
  padding:30px;
  width:85%;
  max-width:900px;
  text-align:center;
  box-shadow:0 30px 60px rgba(0,0,0,.25);
}

h1{
  color:#ff4f9a;
  margin-bottom:10px;
}

p{
  color:#555;
}

button{
  margin-top:15px;
  padding:14px 30px;
  border:none;
  border-radius:25px;
  font-size:17px;
  cursor:pointer;
  color:white;
  background:linear-gradient(135deg,#ff4f9a,#a18cd1);
  transition:.3s;
}

button:hover{
  transform:scale(1.07);
}

video{
  margin-top:25px;
  width:100%;
  border-radius:25px;
  background:black;
}

.link{
  margin-top:15px;
  color:#444;
  word-break:break-all;
  font-size:15px;
}
</style>
</head>

<body>

<div class="card">
  <h1>ğŸŒ¸ Ù†Ø§Ø²Ù†ÛŒÙ† Ø®Ø§Ù†ÙˆÙ… Ø®ÙˆØ´ Ø§ÙˆÙ…Ø¯ÛŒ ğŸŒ¸</h1>
  <p>ØµÙØ­Ù‡â€ŒÛŒ Ú©Ø§Ù…Ù¾ÛŒÙˆØªØ±Øª Ø±Ùˆ Ø²Ù†Ø¯Ù‡ Ø¨Ø§ Ø¨Ù‚ÛŒÙ‡ Ø¨Ù‡ Ø§Ø´ØªØ±Ø§Ú© Ø¨Ø°Ø§Ø± ğŸ’•</p>

  <button onclick="startShare()">âœ¨ Ø´Ø±ÙˆØ¹ Ø§Ø´ØªØ±Ø§Ú© ØµÙØ­Ù‡</button>

  <div class="link" id="link"></div>

  <video id="video" autoplay muted></video>
</div>

<script>
const peer = new Peer();
let screenStream;

peer.on('open', id => {
  document.getElementById("link").innerHTML =
    `ğŸ”— Ù„ÛŒÙ†Ú© Ù…Ø´Ø§Ù‡Ø¯Ù‡:<br>watch.html?id=${id}`;
});

async function startShare(){
  screenStream = await navigator.mediaDevices.getDisplayMedia({
    video:{frameRate:30},
    audio:true
  });
  document.getElementById("video").srcObject = screenStream;
}

peer.on('call', call => {
  call.answer(screenStream);
});
</script>

</body>
</html>
